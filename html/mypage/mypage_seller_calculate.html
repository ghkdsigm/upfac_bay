<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마이페이지 - 정산 관리</title>
    <link rel="stylesheet" href="/resources/assets/css/reset.css">
    <link rel="stylesheet" href="/resources/assets/css/common.css">
    <link rel="stylesheet" href="/resources/assets/css/swiper-bundle.min.css">
    <link rel="stylesheet" href="/resources/assets/css/jquery-ui.min.css">
    <link rel="stylesheet" href="/resources/assets/css/style.css">
    <link rel="stylesheet" href="/resources/assets/css/payment.css">
    <link rel="stylesheet" href="/resources/assets/css/mypage.css">
    <link rel="stylesheet" href="/resources/assets/css/responsive.css">
</head>
<body>
    <!-- 최상단 네비 -->
    <nav class="top_nav">
        <ul class="top_nav_list">
            <li><a href="">로그인</a></li>
            <li><a href="">회원가입</a></li>
            <li><a href="">고객센터</a></li>
        </ul>
    </nav>
    <!-- 최상단 네비 끝 -->
    <header class="header"></header>

    <main class="all_wrap">
        <section class="mypage_area">
            <div class="my_info">
                <div class="container">
                    <!-- [dev] 판매자 모드일경우 my_info_cont 에 on 추가 -->
                    <div class="my_info_cont on">
                        <div class="is_profile">
                            <div class="is_img">
                                <input type="file" accept="image/*" id="profileImageInput" class="hidden" onchange="readURL(this);">
                                <img src="/resources/assets/images/mypage/ico_profile.svg" alt="프로필" class="user_profile" id="preview"/>
                                <button type="button" class="btn_profile_edit" onclick="onClickUpload()">
                                    <img src="/resources/assets/images/mypage/ico_profile_edit.svg" alt="프로필" />
                                </button>
                            </div>
                            <div class="is_text">
                                <!-- [dev] 판매자 모드일경우 type_user 텍스트 '판매자 회원' 으로 변경-->
                                <div class="type">
                                    <p class="type_user">구매자 회원</p>
                                    <p>판매자 모드</p>
                                    <div class="switch">
                                        <span>ON</span>
                                        <span>OFF</span>
                                    </div>
                                </div>
                                <h3>Whisky Hotel 1996</h3>
                                <div class="following">
                                    <p>Follow</p>
                                    <a href="javascript:;">123,456,170</a>
                                </div>
                            </div>
                        </div>
                        <!-- [dev]
                            <h5>사용가능 쿠폰</h5>  >   <h5>N월 판매 내역<p class="i_info"><img src="/resources/assets/images/mypage/ico_info.svg" alt="아이콘" /><span class="tooltip">· 구매 취소가 반영되지 않은 내용으로 실 판매 내역과,<br />실 정산 금액은 차이가 발생할 수 있습니다</span></p></h5>
                            <h5>적립금</h5>  >  <h5>N월 정산 예정금액<p class="i_info"><img src="/resources/assets/images/mypage/ico_settings.svg" alt="아이콘" />내 정산 계좌<span class="tooltip">· 내 정산 계좌 : (국민) 841201-04-012808<a href="javascript:;">수정</a></span></p></h5>
                        -->
                        <div class="is_benefits">
                            <div class="is_coupon">
                                <h5>사용가능 쿠폰</h5>
                                <p><span>1</span>장</p>
                            </div>
                            <div class="is_point">
                                <h5>적립금</h5>
                                <p><span>13,200</span>P</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- 마이페이지 리스트 -->
        <div class="mypage_list_area">
            <div class="container">
                <ul class="mypage_list">
                    <li><a href="javascript:;">등록 물품 관리</a></li>
                    <li><a href="javascript:;">판매관리(국내)</a></li>
                    <li><a href="javascript:;">판매관리(해외)</a></li>
                    <li class="on"><a href="javascript:;">정산 관리</a></li>
                </ul>
            </div>
        </div>
        <!-- 마이페이지 리스트 끝 -->
        
        <!-- 쿠폰 내역 -->
        <div class="mypage_table_area">
            <div class="container">
                <div class="cont">
                    <div class="item_date">
                        <ul class="date_list tab_none_style">
                            <li class="on"><button type="button">오늘</button></li>
                            <li><button type="button">7일</button></li>
                            <li><button type="button">15일</button></li>
                            <li><button type="button">1개월</button></li>
                            <li><button type="button">3개월</button></li>
                            <li><button type="button">6개월</button></li>
                        </ul>
                        <div class="date_search">
                            <div class="date_search_input">
                                <input type="text" id="dateSearchStart" readonly />
                            </div>
                            <p>~</p>
                            <div class="date_search_input">
                                <input type="text" id="dateSearchEnd" readonly />
                            </div>
                            <button type="button">검색</button>
                        </div>
                    </div>
                    <table class="item_table item_table_seller_calculate">
                        <colgroup>
                            <col class="col01">
                            <col class="col02">
                            <col class="col03">
                            <col class="col04">
                            <col class="col05">
                            <col class="col06">
                        </colgroup>
                        <thead>
                            <tr>
                                <td>기간</td>
                                <td>정산 금액</td>
                                <td>정산(예정)일</td>
                                <td>상태</td>
                                <td>상세내역</td>
                                <td>정산요청</td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>2023.08.18 00:00 ~ 2023.09.17 23:59</td>
                                <td><span>21,429,000</span>원</td>
                                <td>2023.09.25</td>
                                <td><span class="not_registered">서류 미등록</span>입금예정계좌 : 국민 851201-12-012345</td>
                                <td><button type="button" class="detail">판매 상세내역</button></td>
                                <td><button type="button" class="detail detail_registration">세금계산서 등록</button></td>
                            </tr>
                            <tr>
                                <td>2023.08.18 00:00 ~ 2023.09.17 23:59</td>
                                <td><span>21,429,000</span>원</td>
                                <td>2023.09.25</td>
                                <td><span class="examine">서류 검토중</span>입금예정계좌 : 국민 851201-12-012345</td>
                                <td><button type="button" class="detail">판매 상세내역</button></td>
                                <td><button type="button" class="detail">세금계산서 확인</button></td>
                            </tr>
                            <tr>
                                <td>2023.08.18 00:00 ~ 2023.09.17 23:59</td>
                                <td><span>21,429,000<b></b></span>원</td>
                                <td>2023.09.25</td>
                                <td><span class="completed">지급 완료<b>23.07.25 16:20</b></span>입금예정계좌 : 국민 851201-12-012345</td>
                                <td><button type="button" class="detail">판매 상세내역</button></td>
                                <td><button type="button" class="detail">세금계산서 확인</button></td>
                            </tr>
                            <tr>
                                <td>2023.08.18 00:00 ~ 2023.09.17 23:59</td>
                                <td><span>21,429,000</span>원</td>
                                <td>2023.09.25</td>
                                <td><span class="completed">지급 완료<b>23.07.25 16:20</b></span>입금예정계좌 : 국민 851201-12-012345</td>
                                <td><button type="button" class="detail">판매 상세내역</button></td>
                                <td><button type="button" class="detail">세금계산서 확인</button></td>
                            </tr>
                            <!-- [dev] 내역 없을경우 -->
                            <tr class="data_none">
                                <td colspan="5">
                                    <img src="/resources/assets/images/common/ico_item_none.svg" alt="느낌표 아이콘" />
                                    <p>정산 가능 내역이 없습니다.</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- 쿠폰 내역 끝 -->
        
        <!-- 세금계산서 등록 팝업 -->
        <div class="pop_mypage pop_tax_registration">
            <div class="cont">
                <button type="button" class="btn_close">
                    <img src="/resources/assets/images/common/ico_close_32x32_fff.svg" alt="닫기 버튼" />
                </button>
                <h5>세금계산서 파일 등록</h5>
                <p>정산을 위해, 발행된 세금계산서를 등록해주세요.</p>
                <div class="file_dropzon">
                    <span class="file_dropzon_title">파일 등록</span>
                    <img src="/resources/assets/images/common/ico_cloud.svg" alt="업로드" class="i_cloud" />
                    <p class="explanation">드래그 앤 드롭 또는 클릭하여 파일 찾기</p>
                    <p class="info">정상적으로 발행된 세금계산서를 등록하셔야 정산이 진행됩니다.</p>
                </div>
                <button type="button" class="btn_save">저장하기</button>
            </div>
        </div>
        <!-- 세금계산서 등록 팝업 끝 -->

        <!-- 판매 상세내역 팝업 -->
        <div class="pop_mypage pop_tax_registration">
            <div class="cont">
                <button type="button" class="btn_close">
                    <img src="/resources/assets/images/common/ico_close_32x32_fff.svg" alt="닫기 버튼" />
                </button>
                <h5>세금계산서 파일 등록</h5>
                <p>정산을 위해, 발행된 세금계산서를 등록해주세요.</p>
                <div class="file_dropzon">
                    <span class="file_dropzon_title">파일 등록</span>
                    <img src="/resources/assets/images/common/ico_cloud.svg" alt="업로드" class="i_cloud" />
                    <p class="explanation">드래그 앤 드롭 또는 클릭하여 파일 찾기</p>
                    <p class="info">정상적으로 발행된 세금계산서를 등록하셔야 정산이 진행됩니다.</p>
                </div>
                <button type="button" class="btn_save">저장하기</button>
            </div>
        </div>
        <!-- 판매 상세내역 팝업 끝 -->

    </main>

    <footer class="footer"></footer>
    
    <!-- Jquery -->
    <script type="text/javascript" src="/resources/assets/js/jquery.min.js"></script>
    <!-- Swiper -->
    <script type="text/javascript" src="/resources/assets/js/swiper-bundle.min.js"></script>
    <!-- 공통js -->
    <script type="text/javascript" src="/resources/assets/js/common.js"></script>
    <!-- threesixty -->
    <script type="text/javascript" src="/resources/assets/js/plugins/jquery.threesixty.js"></script>    
    <!-- 데이터피커 -->
    <script type="text/javascript" src="/resources/assets/js/plugins/jquery-ui.min.js"></script>
    <!-- 공통헤더,푸터 -->
    <script src="/resources/common_hf.js"></script> 

    <script>
        $(function(){
            // [dev] 판매자모드 전환 스위치 
            $('.mypage_area .my_info .my_info_cont .type').on('click',function(){
                $('.mypage_area .my_info .my_info_cont').toggleClass('on');
                if($('.mypage_area .my_info .my_info_cont').hasClass('on')) {
                    $('.mypage_area .my_info .my_info_cont .type .type_user').text('판매자 회원')
                } else {
                    $('.mypage_area .my_info .my_info_cont .type .type_user').text('구매자 회원')
                }
                if($('.mypage_area .my_info .my_info_cont').hasClass('on')) {
                    $('.mypage_area .my_info .is_benefits .is_coupon h5').html('N월 판매 내역<p class="i_info"><img src="/resources/assets/images/mypage/ico_info.svg" alt="아이콘" /><span class="tooltip">· 구매 취소가 반영되지 않은 내용으로 실 판매 내역과,<br />실 정산 금액은 차이가 발생할 수 있습니다</span></p>')
                    $('.mypage_area .my_info .is_benefits .is_coupon > p').html('<span>1</span>건')
                    $('.mypage_area .my_info .is_benefits .is_point h5').html('N월 정산 예정금액<p class="i_info"><img src="/resources/assets/images/mypage/ico_settings.svg" alt="아이콘" />내 정산 계좌<span class="tooltip">· 내 정산 계좌 : (국민) 841201-04-012808<a href="javascript:;">수정</a></span></p>')
                    $('.mypage_area .my_info .is_benefits .is_point > p').html('<span>1,221,429,000</span>원')
                } else {
                    $('.mypage_area .my_info .is_benefits .is_coupon h5').text('사용가능 쿠폰')
                    $('.mypage_area .my_info .is_benefits .is_coupon > p').html('<span>1</span>장')
                    $('.mypage_area .my_info .is_benefits .is_point h5').text('적립금')
                    $('.mypage_area .my_info .is_benefits .is_point > p').html('<span>13,200</span>P')
                }
            });
            $('.mypage_area .my_info .my_info_cont .type .type_user').text('구매자 회원')
            $('.mypage_area .my_info .is_benefits .is_coupon h5').html('N월 판매 내역<p class="i_info"><img src="/resources/assets/images/mypage/ico_info.svg" alt="아이콘" /><span class="tooltip">· 구매 취소가 반영되지 않은 내용으로 실 판매 내역과,<br />실 정산 금액은 차이가 발생할 수 있습니다</span></p>')
            $('.mypage_area .my_info .is_benefits .is_coupon > p').html('<span>1</span>건')
            $('.mypage_area .my_info .is_benefits .is_point h5').html('N월 정산 예정금액<p class="i_info"><img src="/resources/assets/images/mypage/ico_settings.svg" alt="아이콘" />내 정산 계좌<span class="tooltip">· 내 정산 계좌 : (국민) 841201-04-012808<a href="javascript:;">수정</a></span></p>')
            $('.mypage_area .my_info .is_benefits .is_point > p').html('<span>1,221,429,000</span>원')
            // [dev] 날짜 최초 오늘값 세팅

            // [dev] 날짜 데이터피커
            var today = new Date();
            $.datepicker.setDefaults({
                dateFormat: 'yy.mm.dd',
                prevText: '이전 달',
                nextText: '다음 달',
                monthNames: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'],
                monthNamesShort: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'],
                dayNames: ['일', '월', '화', '수', '목', '금', '토'],
                dayNamesShort: ['일', '월', '화', '수', '목', '금', '토'],
                dayNamesMin: ['일', '월', '화', '수', '목', '금', '토'],
                showMonthAfterYear: true,
                yearSuffix: '년',
            });
            $('#dateSearchStart').datepicker({});
            $('#dateSearchStart').datepicker('setDate', today);
            $('#dateSearchEnd').datepicker({});
            $('#dateSearchEnd').datepicker('setDate', today);

            // [dev] 세금계산서 등록 팝업 제어
            $('.detail_registration').on('click', function(){
                $('.pop_tax_registration').addClass('on')
            })
            $('.pop_tax_registration .btn_close').on('click', function(){
                $('.pop_tax_registration').removeClass('on')
            })
        })
        // [dev] 유저 프로필 사진 수정
        function onClickUpload() {
            let myInput = document.getElementById("profileImageInput");
            myInput.click();
        }

        function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function(e) {
                document.getElementById('preview').src = e.target.result;
                };
                reader.readAsDataURL(input.files[0]);
            } else {
                document.getElementById('preview').src = e.target.result;
            }
        }
    </script>
</body>
</html>